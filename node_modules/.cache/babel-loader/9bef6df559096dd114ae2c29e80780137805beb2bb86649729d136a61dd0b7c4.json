{"ast":null,"code":"var _jsxFileName = \"/Users/gscr930/Documents/YangSal Font Encoding Converter/src/App.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport LanguageSelector from \"./components/LanguageSelector\";\nimport EnterButton from \"./components/EnterButton\";\nimport { BrowserRouter as Router, Routes, Route, useNavigate } from \"react-router-dom\";\nimport About from \"./pages/About\";\nimport ConvertPage from \"./pages/ConvertPage\";\nimport LicenseModal from './components/LicenseModal';\nimport LicenseBanner from './components/LicenseBanner';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction HomeCard() {\n  _s();\n  const {\n    t\n  } = useTranslation();\n  const navigate = useNavigate();\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative z-10 flex flex-col items-center -mt-20 bg-white rounded-3xl shadow-2xl p-12 mx-8 max-w-4xl w-full border border-gray-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl md:text-5xl font-extralight text-gray-500 mb-6 text-center tracking-wide\",\n        children: t('appNameBo')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl md:text-4xl font-light text-gray-500 mb-8 text-center tracking-wide\",\n        children: t('appNameZh')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LanguageSelector, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EnterButton, {\n        onEnter: () => navigate('/convert')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"absolute bottom-3 right-4 px-3 py-1 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200 hover:text-modern-accent shadow focus:outline-none focus:ring-2 focus:ring-modern-accent focus:ring-opacity-50 text-sm font-medium\",\n        onClick: () => navigate('/about'),\n        children: \"\\u5173\\u4E8E\\uFF08\\u0F51\\u0F7A\\u0F0B\\u0F60\\u0F56\\u0FB2\\u0F7A\\u0F63\\u0F0D\\uFF09\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 text-xs text-gray-400 text-center select-none\",\n      children: \"\\xA9 2025.07.10 - \\u7248\\u672C 1.0.0\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(HomeCard, \"1n6r5eWNKhP/dvqdbLCphpT4ddM=\", false, function () {\n  return [useTranslation, useNavigate];\n});\n_c = HomeCard;\nexport default function App() {\n  _s2();\n  const [licenseVisible, setLicenseVisible] = React.useState(false);\n  const [expireDate, setExpireDate] = React.useState(null);\n  React.useEffect(() => {\n    // 检查激活状态和试用期\n    const lic = localStorage.getItem('license');\n    let valid = false;\n    let exp = null;\n    if (lic) {\n      try {\n        const decoded = atob(lic.replace(/-/g, '+').replace(/_/g, '/'));\n        const [ed, sign] = decoded.split('|');\n        // 简单校验（与LicenseModal一致）\n        const CryptoJS = window.CryptoJS;\n        if (CryptoJS) {\n          const expectedSign = CryptoJS.HmacSHA256(ed, 'YangsaL2025SecretKey').toString().slice(0, 16);\n          if (sign === expectedSign) {\n            exp = ed;\n            valid = new Date() <= new Date(ed);\n          }\n        }\n      } catch {}\n    }\n    if (!valid) setLicenseVisible(true);\n    setExpireDate(exp);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: [/*#__PURE__*/_jsxDEV(LicenseBanner, {\n      expireDate: expireDate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LicenseModal, {\n      visible: licenseVisible,\n      onActivated: ed => {\n        setExpireDate(ed);\n        setLicenseVisible(false);\n      },\n      onClose: () => setLicenseVisible(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative w-full h-screen flex flex-col items-center justify-center bg-gradient-to-b from-gray-300 via-gray-100 to-white overflow-hidden\",\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(HomeCard, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/about\",\n          element: /*#__PURE__*/_jsxDEV(About, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/convert\",\n          element: /*#__PURE__*/_jsxDEV(ConvertPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 43\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"hnEDgwleDIENDR9SpeDTniIvBsU=\");\n_c2 = App;\nvar _c, _c2;\n$RefreshReg$(_c, \"HomeCard\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useTranslation","LanguageSelector","EnterButton","BrowserRouter","Router","Routes","Route","useNavigate","About","ConvertPage","LicenseModal","LicenseBanner","jsxDEV","_jsxDEV","Fragment","_Fragment","HomeCard","_s","t","navigate","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onEnter","onClick","_c","App","_s2","licenseVisible","setLicenseVisible","useState","expireDate","setExpireDate","useEffect","lic","localStorage","getItem","valid","exp","decoded","atob","replace","ed","sign","split","CryptoJS","window","expectedSign","HmacSHA256","toString","slice","Date","visible","onActivated","onClose","path","element","_c2","$RefreshReg$"],"sources":["/Users/gscr930/Documents/YangSal Font Encoding Converter/src/App.jsx"],"sourcesContent":["import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport LanguageSelector from \"./components/LanguageSelector\";\nimport EnterButton from \"./components/EnterButton\";\nimport { BrowserRouter as Router, Routes, Route, useNavigate } from \"react-router-dom\";\nimport About from \"./pages/About\";\nimport ConvertPage from \"./pages/ConvertPage\";\nimport LicenseModal from './components/LicenseModal';\nimport LicenseBanner from './components/LicenseBanner';\n\nfunction HomeCard() {\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n  return (\n    <>\n      <div className=\"relative z-10 flex flex-col items-center -mt-20 bg-white rounded-3xl shadow-2xl p-12 mx-8 max-w-4xl w-full border border-gray-100\">\n        <h2 className=\"text-3xl md:text-5xl font-extralight text-gray-500 mb-6 text-center tracking-wide\">\n          {t('appNameBo')}\n        </h2>\n        <h1 className=\"text-2xl md:text-4xl font-light text-gray-500 mb-8 text-center tracking-wide\">\n          {t('appNameZh')}\n        </h1>\n        <LanguageSelector />\n        <EnterButton onEnter={() => navigate('/convert')} />\n        {/* 关于按钮 */}\n        <button\n          className=\"absolute bottom-3 right-4 px-3 py-1 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200 hover:text-modern-accent shadow focus:outline-none focus:ring-2 focus:ring-modern-accent focus:ring-opacity-50 text-sm font-medium\"\n          onClick={() => navigate('/about')}\n        >\n          关于（དེ་འབྲེལ།）\n        </button>\n      </div>\n      <div className=\"mt-4 text-xs text-gray-400 text-center select-none\">\n        © 2025.07.10 - 版本 1.0.0\n      </div>\n    </>\n  );\n}\n\nexport default function App() {\n  const [licenseVisible, setLicenseVisible] = React.useState(false);\n  const [expireDate, setExpireDate] = React.useState(null);\n\n  React.useEffect(() => {\n    // 检查激活状态和试用期\n    const lic = localStorage.getItem('license');\n    let valid = false;\n    let exp = null;\n    if (lic) {\n      try {\n        const decoded = atob(lic.replace(/-/g, '+').replace(/_/g, '/'));\n        const [ed, sign] = decoded.split('|');\n        // 简单校验（与LicenseModal一致）\n        const CryptoJS = window.CryptoJS;\n        if (CryptoJS) {\n          const expectedSign = CryptoJS.HmacSHA256(ed, 'YangsaL2025SecretKey').toString().slice(0, 16);\n          if (sign === expectedSign) {\n            exp = ed;\n            valid = new Date() <= new Date(ed);\n          }\n        }\n      } catch {}\n    }\n    if (!valid) setLicenseVisible(true);\n    setExpireDate(exp);\n  }, []);\n\n  return (\n    <Router>\n      <LicenseBanner expireDate={expireDate} />\n      <LicenseModal visible={licenseVisible} onActivated={ed => { setExpireDate(ed); setLicenseVisible(false); }} onClose={() => setLicenseVisible(false)} />\n      <div className=\"relative w-full h-screen flex flex-col items-center justify-center bg-gradient-to-b from-gray-300 via-gray-100 to-white overflow-hidden\">\n        <Routes>\n          <Route path=\"/\" element={<HomeCard />} />\n          <Route path=\"/about\" element={<About />} />\n          <Route path=\"/convert\" element={<ConvertPage />} />\n        </Routes>\n      </div>\n    </Router>\n  );\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}