# 央萨尔藏文编码转换器 - 部署说明

## 🚀 生产版本已打包完成

### 打包结果
- ✅ 生产版本已成功构建
- ✅ 文件大小优化完成（365.56 kB JS + 5.34 kB CSS）
- ✅ 所有功能已集成到生产版本

### 文件结构
```
build/
├── index.html          # 主页面
├── asset-manifest.json # 资源清单
└── static/
    ├── css/           # 样式文件
    └── js/            # JavaScript文件
```

## 📦 部署选项

### 选项1：静态文件服务器（推荐）

#### 使用 serve 工具
```bash
# 安装 serve
npm install -g serve

# 启动服务器
serve -s build

# 访问地址
http://localhost:3000
```

#### 使用 nginx
```nginx
server {
    listen 80;
    server_name your-domain.com;
    root /path/to/build;
    index index.html;
    
    location / {
        try_files $uri $uri/ /index.html;
    }
}
```

#### 使用 Apache
```apache
<VirtualHost *:80>
    ServerName your-domain.com
    DocumentRoot /path/to/build
    
    <Directory /path/to/build>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>
    
    RewriteEngine On
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)$ /index.html [QSA,L]
</VirtualHost>
```

### 选项2：CDN部署
- 上传 `build` 文件夹到 CDN 服务商
- 配置域名和 SSL 证书
- 设置缓存策略

### 选项3：GitHub Pages
```bash
# 创建 gh-pages 分支
git checkout -b gh-pages

# 复制 build 文件到根目录
cp -r build/* .

# 提交并推送
git add .
git commit -m "Deploy to GitHub Pages"
git push origin gh-pages
```

## 🔧 部署前检查清单

### 功能测试
- [ ] 激活码验证功能正常
- [ ] 多设备使用限制正常
- [ ] 时间计算功能正常
- [ ] 双语界面显示正常
- [ ] 文件操作功能正常
- [ ] 转换功能正常

### 性能优化
- [ ] 文件大小已优化
- [ ] 图片已压缩
- [ ] 代码已压缩
- [ ] 缓存策略已配置

### 安全配置
- [ ] HTTPS 已配置
- [ ] 安全头已设置
- [ ] 激活码验证正常
- [ ] 本地存储安全

## 📋 部署步骤

### 1. 本地测试
```bash
# 启动本地服务器测试
serve -s build
```

### 2. 上传文件
```bash
# 上传 build 文件夹到服务器
scp -r build/ user@server:/var/www/html/
```

### 3. 配置服务器
```bash
# 设置文件权限
chmod -R 755 /var/www/html/build

# 配置 nginx
sudo nano /etc/nginx/sites-available/yangsal
```

### 4. 启动服务
```bash
# 重启 nginx
sudo systemctl restart nginx

# 检查状态
sudo systemctl status nginx
```

## 🌐 域名配置

### 域名设置
1. 购买域名（如：yangsal.com）
2. 配置 DNS 解析
3. 申请 SSL 证书
4. 配置 HTTPS

### SSL 证书（Let's Encrypt）
```bash
# 安装 certbot
sudo apt install certbot python3-certbot-nginx

# 申请证书
sudo certbot --nginx -d yangsal.com

# 自动续期
sudo crontab -e
# 添加：0 12 * * * /usr/bin/certbot renew --quiet
```

## 📊 监控和维护

### 性能监控
- 使用 Google Analytics 跟踪访问
- 监控服务器性能
- 检查错误日志

### 定期维护
- 更新激活码生成脚本
- 备份用户数据
- 检查安全更新

## 🛠️ 故障排除

### 常见问题

**Q: 页面无法访问**
A: 检查服务器配置和防火墙设置

**Q: 激活码验证失败**
A: 确认前端代码已更新到最新版本

**Q: 文件上传失败**
A: 检查服务器文件权限和磁盘空间

**Q: 样式显示异常**
A: 确认 CSS 文件路径正确

### 日志查看
```bash
# nginx 错误日志
sudo tail -f /var/log/nginx/error.log

# 访问日志
sudo tail -f /var/log/nginx/access.log
```

## 📞 技术支持

### 部署支持
- 服务器配置问题
- 域名解析问题
- SSL 证书问题

### 功能支持
- 激活码问题
- 软件功能问题
- 用户使用指导

---

**部署版本**：v2.0  
**构建时间**：2025-07-10  
**支持功能**：多设备激活，离线验证，时间控制 